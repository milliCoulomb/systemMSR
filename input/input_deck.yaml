# input_deck.yaml

simulation:
  total_time: 500.0          # [s] total simulation time
  time_step: 1e-1            # [s] base time-step

geometry:
  core_length: 3.0           # [m] length of the core region
  exchanger_length: 3.0      # [m] length of the heat exchanger
  core_radius: 1.0e-1           # [m] radius of the core region
  cooling_loop_first_length: 1.5  # [m] length of primary loop
  # then comes the heat exchanger and then the second segment of the cooling loop
  cooling_loop_second_length: 1.5 # [m] length of secondary loop
  secondary_loop_radius: 1.0e-1 # [m] radius of the secondary loop
  heat_exchanger_coefficient: 5.0e6 # [W/m^3-K] heat transfer coefficient in heat exchanger
  n_core: 300                 # number of 1D cells in core
  n_exchanger: 300            # number of 1D cells in heat exchanger
  n_cooling_loop_first_segment: 150  # number of 1D cells in secondary loop, before heat exchanger
  n_cooling_loop_second_segment: 150 # number of 1D cells in secondary loop, after heat exchanger


materials:
  primary_salt:
    density:   2250.0              # [kg/m^3], constant
    cp:        1967.0              # [J/kg-K], constant
    expansion: 5.12e-4             # [per kelvin], constant
    k:         0.5                 # [W/m-K], constant
  secondary_salt:
    density:   2250.0              # [kg/m^3], constant
    cp:        1967.0              # [J/kg-K], constant
    expansion: 2.12e-4             # [per kelvin], constant
    k:         0.005                 # [W/m-K], constant

nuclear_data:
  diffusion_coefficient: 1.21e-2      # [m]   e.g. D
  absorption_cross_section: 3.76e-1  # [1/m] e.g. Sigma_a
  fission_cross_section: 1.85e-1     # [1/m] e.g. Sigma_f
  nu_fission: 2.4                # average number of neutrons per fission
  beta: 50e-5                   # delayed neutron fraction
  decay_constant: 0.1           # [1/s] decay constant of precursor
  power: 1.0e6            # [W] target power of the reactor
  kappa: 3.2e-11                 # Joules per fission
  neutron_velocity: 2.2e3        # [m/s] average neutron velocity

operational_parameters:
  pump_primary:
    mode: "flow_rate_control"
    # flow rate should be linearly interpolated between the given points
    schedule:
      - time: 0.0
        flow_rate: 400.0           # kg/s
      - time: 200.0
        flow_rate: 400.0           # kg/s
      - time: 300.0
        flow_rate: 400.0           # kg/s
      - time: 350.0
        flow_rate: 400.0           # kg/s
      - time: 450.0
        flow_rate: 400.0           # kg/s
      - time: 500.0
        flow_rate: 400.0             # kg/s
  
  pump_secondary:
    mode: "flow_rate_control"
    schedule:
      - time: 0.0
        flow_rate: 200.0            # kg/s
      - time: 200.0
        flow_rate: 200.0            # kg/s
      - time: 250.0
        flow_rate: 400.0            # kg/s
      - time: 300.0
        flow_rate: 400.0            # kg/s
      - time: 350.0
        flow_rate: 400.0            # kg/s
      - time: 500.0
        flow_rate: 400.0            # kg/s

  secondary_inlet_temp:
    schedule:
      - time: 0.0
        temperature: 800.0        # [K]
      - time: 200.0
        temperature: 800.0        # [K]
      - time: 250.0
        temperature: 800.0        # [K]
      - time: 300.0
        temperature: 800.0        # [K]
      - time: 350.0
        temperature: 800.0        # [K]
      - time: 500.0
        temperature: 800.0        # [K]
    
  accelerator:
    mode: "intensity_control"
    electron_to_gamma: 1.0
    schedule:
      - time: 0.0
        intensity: 50.0            # [W]
      - time: 200.0
        intensity: 50.0            # [W]
      - time: 250.0
        intensity: 50.0            # [W]
      - time: 300.0
        intensity: 50.0            # [W]
      - time: 350.0
        intensity: 50.0            # [W]
      - time: 500.0
        intensity: 50.0            # [W]